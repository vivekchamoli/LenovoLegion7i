<UserControl x:Class="LenovoLegionToolkit.WPF.Controls.Dashboard.Gen9AIThermalControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:LenovoLegionToolkit.WPF.Controls.Dashboard"
             xmlns:wpf="clr-namespace:LenovoLegionToolkit.WPF"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
            <Path Width="24" Height="24"
                  Data="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z"
                  Fill="{DynamicResource SystemAccentColorBrush}"
                  VerticalAlignment="Center"/>
            <TextBlock Text="{x:Static wpf:Resource.Gen9_AI_Thermal_Optimization}"
                       Style="{StaticResource SubtitleTextBlockStyle}"
                       Margin="8,0,0,0"
                       VerticalAlignment="Center"/>
        </StackPanel>

        <!-- Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="16"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left Column - Status and Controls -->
            <StackPanel Grid.Column="0">
                <!-- AI Optimization Status -->
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="16"
                        Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="{x:Static wpf:Resource.AI_Optimization_Status}"
                                   Style="{StaticResource BodyStrongTextBlockStyle}"
                                   Margin="0,0,0,8"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <Ellipse x:Name="StatusIndicator"
                                     Grid.Column="0"
                                     Width="12" Height="12"
                                     Fill="Orange"
                                     VerticalAlignment="Center"/>

                            <TextBlock x:Name="StatusText"
                                       Grid.Column="1"
                                       Text="Initializing..."
                                       Margin="8,0,0,0"
                                       VerticalAlignment="Center"/>

                            <Button x:Name="RefreshButton"
                                    Grid.Column="2"
                                    Content="ðŸ”„"
                                    Width="32" Height="32"
                                    Style="{StaticResource AccentButtonStyle}"
                                    Click="RefreshButton_Click"
                                    ToolTip="Refresh Status"/>
                        </Grid>

                        <!-- Throttle Risk Indicator -->
                        <StackPanel Margin="0,12,0,0">
                            <TextBlock Text="{x:Static wpf:Resource.Throttle_Risk}"
                                       Style="{StaticResource CaptionTextBlockStyle}"
                                       Margin="0,0,0,4"/>
                            <ProgressBar x:Name="ThrottleRiskBar"
                                         Height="8"
                                         Value="25"
                                         Maximum="100"
                                         Foreground="{DynamicResource SystemAccentColorBrush}"/>
                            <TextBlock x:Name="ThrottleRiskText"
                                       Text="25% - Low Risk"
                                       Style="{StaticResource CaptionTextBlockStyle}"
                                       HorizontalAlignment="Right"
                                       Margin="0,4,0,0"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Workload Selection -->
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="16"
                        Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="{x:Static wpf:Resource.Workload_Type}"
                                   Style="{StaticResource BodyStrongTextBlockStyle}"
                                   Margin="0,0,0,8"/>

                        <ComboBox x:Name="WorkloadComboBox"
                                  SelectionChanged="WorkloadComboBox_SelectionChanged">
                            <ComboBoxItem Content="Balanced" Tag="Balanced"/>
                            <ComboBoxItem Content="Gaming" Tag="Gaming"/>
                            <ComboBoxItem Content="Productivity" Tag="Productivity"/>
                            <ComboBoxItem Content="AI/ML Workload" Tag="AIWorkload"/>
                        </ComboBox>

                        <TextBlock x:Name="WorkloadDescription"
                                   Text="Automatically adjusts thermal settings based on your current activity"
                                   Style="{StaticResource CaptionTextBlockStyle}"
                                   TextWrapping="Wrap"
                                   Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Quick Actions -->
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel>
                        <TextBlock Text="{x:Static wpf:Resource.Quick_Actions}"
                                   Style="{StaticResource BodyStrongTextBlockStyle}"
                                   Margin="0,0,0,12"/>

                        <Button x:Name="OptimizeButton"
                                Content="{x:Static wpf:Resource.Run_Optimization}"
                                Style="{StaticResource AccentButtonStyle}"
                                HorizontalAlignment="Stretch"
                                Click="OptimizeButton_Click"
                                Margin="0,0,0,8"/>

                        <Button x:Name="ApplyFixesButton"
                                Content="{x:Static wpf:Resource.Apply_Gen9_Fixes}"
                                HorizontalAlignment="Stretch"
                                Click="ApplyFixesButton_Click"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Right Column - Temperature Monitoring -->
            <StackPanel Grid.Column="2">
                <!-- Real-time Temperatures -->
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="16"
                        Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="{x:Static wpf:Resource.Temperature_Monitoring}"
                                   Style="{StaticResource BodyStrongTextBlockStyle}"
                                   Margin="0,0,0,12"/>

                        <!-- CPU Temperature -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="CPU Package" VerticalAlignment="Center"/>
                            <TextBlock x:Name="CpuTempText" Grid.Column="1" Text="--Â°C"
                                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
                        </Grid>

                        <!-- GPU Temperature -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="GPU Core" VerticalAlignment="Center"/>
                            <TextBlock x:Name="GpuTempText" Grid.Column="1" Text="--Â°C"
                                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
                        </Grid>

                        <!-- GPU Hotspot -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="GPU Hotspot" VerticalAlignment="Center"/>
                            <TextBlock x:Name="GpuHotspotText" Grid.Column="1" Text="--Â°C"
                                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
                        </Grid>

                        <!-- VRM Temperature -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="VRM" VerticalAlignment="Center"/>
                            <TextBlock x:Name="VrmTempText" Grid.Column="1" Text="--Â°C"
                                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
                        </Grid>

                        <!-- SSD Temperature -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="PCIe 5.0 SSD" VerticalAlignment="Center"/>
                            <TextBlock x:Name="SsdTempText" Grid.Column="1" Text="--Â°C"
                                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Fan Status -->
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="16"
                        Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="{x:Static wpf:Resource.Fan_Status}"
                                   Style="{StaticResource BodyStrongTextBlockStyle}"
                                   Margin="0,0,0,12"/>

                        <!-- Fan 1 -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="CPU Fan" VerticalAlignment="Center"/>
                            <TextBlock x:Name="Fan1SpeedText" Grid.Column="1" Text="-- RPM"
                                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
                        </Grid>

                        <!-- Fan 2 -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="GPU Fan" VerticalAlignment="Center"/>
                            <TextBlock x:Name="Fan2SpeedText" Grid.Column="1" Text="-- RPM"
                                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Recommendations -->
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel>
                        <TextBlock Text="{x:Static wpf:Resource.AI_Recommendations}"
                                   Style="{StaticResource BodyStrongTextBlockStyle}"
                                   Margin="0,0,0,8"/>

                        <ScrollViewer Height="120" VerticalScrollBarVisibility="Auto">
                            <ItemsControl x:Name="RecommendationsPanel">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="{DynamicResource SubtleFillColorSecondaryBrush}"
                                                CornerRadius="4"
                                                Padding="8"
                                                Margin="0,0,0,4">
                                            <TextBlock Text="{Binding}"
                                                       TextWrapping="Wrap"
                                                       Style="{StaticResource CaptionTextBlockStyle}"/>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>