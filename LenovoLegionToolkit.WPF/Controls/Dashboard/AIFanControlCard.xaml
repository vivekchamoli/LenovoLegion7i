<UserControl
    x:Class="LenovoLegionToolkit.WPF.Controls.Dashboard.AIFanControlCard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:custom="clr-namespace:LenovoLegionToolkit.WPF.Controls.Custom"
    d:DesignHeight="280"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <custom:CardControl Margin="0,0,0,8" Icon="WeatherHailNight24">
        <custom:CardControl.Header>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="8" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="8" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="8" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Title with AI indicator -->
                <StackPanel
                    Grid.Row="0"
                    Grid.Column="0"
                    Orientation="Horizontal">
                    <TextBlock
                        FontSize="18"
                        FontWeight="Medium"
                        Text="AI Fan Control" />
                    <wpfui:Badge
                        x:Name="_aiStatusBadge"
                        Margin="12,0,0,0"
                        Appearance="Secondary"
                        Content="Learning" />
                </StackPanel>

                <!-- Current Fan Profile -->
                <StackPanel
                    Grid.Row="2"
                    Grid.Column="0"
                    Orientation="Horizontal">
                    <Label
                        VerticalContentAlignment="Center"
                        Content="Current Profile:"
                        Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
                    <wpfui:Badge
                        x:Name="_fanProfileBadge"
                        Margin="8,0,0,0"
                        Appearance="Primary"
                        Content="Balanced" />
                </StackPanel>

                <!-- Learning Statistics -->
                <Grid Grid.Row="4" Grid.Column="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Label
                        Grid.Column="0"
                        VerticalContentAlignment="Center"
                        Content="Adaptive Learning:"
                        Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
                    <ProgressBar
                        x:Name="_learningProgressBar"
                        Grid.Column="1"
                        Height="8"
                        Margin="16,0,16,0"
                        VerticalAlignment="Center"
                        Maximum="500"
                        Minimum="0"
                        Value="0" />
                    <Label
                        x:Name="_learningLabel"
                        Grid.Column="2"
                        HorizontalContentAlignment="Right"
                        VerticalContentAlignment="Center"
                        Content="0 / 500 samples"
                        Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                </Grid>

                <!-- Last AI Action -->
                <Grid Grid.Row="6" Grid.Column="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Label
                        Grid.Column="0"
                        VerticalContentAlignment="Center"
                        Content="Last AI Action:"
                        Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
                    <Label
                        x:Name="_lastActionLabel"
                        Grid.Column="1"
                        Margin="8,0,0,0"
                        VerticalContentAlignment="Center"
                        Content="Waiting for thermal data..."
                        Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                </Grid>

                <!-- Quick Actions -->
                <StackPanel
                    Grid.Row="0"
                    Grid.RowSpan="7"
                    Grid.Column="1"
                    Margin="16,0,0,0"
                    VerticalAlignment="Center"
                    Orientation="Vertical">
                    <wpfui:Button
                        x:Name="_quietModeButton"
                        MinWidth="100"
                        Margin="0,0,0,8"
                        Appearance="Secondary"
                        Content="Quiet Mode"
                        ToolTip="Prioritize silence over cooling" />
                    <wpfui:Button
                        x:Name="_balancedModeButton"
                        MinWidth="100"
                        Margin="0,0,0,8"
                        Appearance="Secondary"
                        Content="Balanced"
                        ToolTip="Balanced cooling and acoustics" />
                    <wpfui:Button
                        x:Name="_maxCoolingButton"
                        MinWidth="100"
                        Appearance="Secondary"
                        Content="Max Cooling"
                        ToolTip="Maximum cooling performance" />
                </StackPanel>

            </Grid>
        </custom:CardControl.Header>
    </custom:CardControl>
</UserControl>
